<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>


    <h3> Word to Guess</h3>

    <h3 id="word-blanks">_ _ _ _ _ _ _</h3>

    
    <div>
     <strong>Wrong Guesses: </strong>
    <span id="wrong-guesses"></span>
    </div>

    <div>
    <strong>Guesses Left: </strong>
    <span id="guesses-left"></span>
    </div>

    <script>

        //variables
        //======================================
        var wordBank = ["moana", "disney", "jasmine", "rapunzel"]
        var wins = 0;
        var loss = 0;
        var wrongLetter = [" "];
        var guessesLeft = 9;
        var underScores = [];
        var userGuesses = [];
        var randWord;
        var winCounter = 0;


        //Function
        //======================================
        function startGame(){
            randWord = wordBank[Math.floor(Math.random() * wordBank.length)];
            console.log("random Word =" + randWord);
            for(var i = 0; i <randWord.length; i++) {
                underScores.push("_");
            }
            //printing underscores to the screen
           document.getElementById("word-blanks").textContent = underScores.join(" ");
           //reset
           wrongLetter = [];
           guessesLeft = 10;

           //html
           document.getElementById("guesses-left").textContent = guessesLeft;
        }

        function winLose()
        {
            if(winCounter === randWord.length)
            {
                alert("you win");
                startGame();
            }
            else if(guessesLeft === 0)
            {
                alert("you lose");
                startGame();
            }
            
            
        }

        // User Guesses
        document.onkeyup = function(event)
        {
            userGuesses = event.key;
           
           if(randWord.indexOf(userGuesses) > -1)
           {
                for (var i = 0; i < randWord.length; i++ ) {
    
                
                    if (randWord[i] === userGuesses) {
                  
                    underScores[i] = userGuesses;
                    document.getElementById("word-blanks").textContent = underScores.join(" ");
                    console.log(underScores);
                    winCounter++;
                    winLose();
                    } 
                }       
           }
           else
           {
               wrongLetter.push(userGuesses);

               document.getElementById("wrong-guesses").textContent = wrongLetter;
               
               document.getElementById("guesses-left").textContent = guessesLeft - 1;
               console.log(wrongLetter);
               winLose();    
           }
        }


        //Main game
        //=======================================
        startGame();



    </script>
</body>
</html>